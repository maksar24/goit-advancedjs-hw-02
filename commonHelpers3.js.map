{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\nlet currentDate = {};\n\nfunction handleInput({target}) {\n  currentDate[target.name] = target.value;\n};\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n};\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n\n  const { delay, step, amount } = currentDate;\n\n  for (let i = 1; i <= Number(amount); i++) {\n    const currentDelay = Number(amount) === 1 ? Number(delay) : Number(delay) + Number(step) * (i - 1);\n\n    createPromise(i, currentDelay)\n      .then(({ position, delay }) => {\n      iziToast.show({\n        title: \"✅\",\n        message: `Fulfilled promise ${position} in ${delay}ms`,\n        theme: 'light',\n        color: '#5aad5e'\n      });\n    })\n      .catch(({ position, delay }) => {\n      iziToast.show({\n        title: \"❌\",\n        message: `Rejected promise ${position} in ${delay}ms`,\n        theme: 'light',\n        color: '#b35c5c'\n      });\n    });\n  };\n  form.reset();\n  currentDate = {};\n};\n\nform.addEventListener(\"input\", handleInput);\nform.addEventListener(\"submit\", handleSubmit);"],"names":["form","currentDate","handleInput","target","createPromise","position","delay","shouldResolve","resolve","reject","handleSubmit","step","amount","i","currentDelay","iziToast"],"mappings":"wIAGA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAC3C,IAAIC,EAAc,CAAA,EAElB,SAASC,EAAY,CAAC,OAAAC,CAAM,EAAG,CAC7BF,EAAYE,EAAO,MAAQA,EAAO,KACpC,CAEA,SAASC,EAAcC,EAAUC,EAAO,CACtC,MAAMC,EAAgB,KAAK,OAAM,EAAK,GACtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,WAAW,IAAM,CACXF,EACFC,EAAQ,CAAE,SAAAH,EAAU,MAAAC,CAAK,CAAE,EAE3BG,EAAO,CAAE,SAAAJ,EAAU,MAAAC,CAAK,CAAE,CAE7B,EAAEA,CAAK,CACZ,CAAG,CACH,CAEA,SAASI,EAAa,EAAG,CACvB,EAAE,eAAc,EAEhB,KAAM,CAAE,MAAAJ,EAAO,KAAAK,EAAM,OAAAC,CAAM,EAAKX,EAEhC,QAASY,EAAI,EAAGA,GAAK,OAAOD,CAAM,EAAGC,IAAK,CACxC,MAAMC,EAAe,OAAOF,CAAM,IAAM,EAAI,OAAON,CAAK,EAAI,OAAOA,CAAK,EAAI,OAAOK,CAAI,GAAKE,EAAI,GAEhGT,EAAcS,EAAGC,CAAY,EAC1B,KAAK,CAAC,CAAE,SAAAT,EAAU,MAAAC,KAAY,CAC/BS,EAAS,KAAK,CACZ,MAAO,IACP,QAAS,qBAAqBV,QAAeC,MAC7C,MAAO,QACP,MAAO,SACf,CAAO,CACP,CAAK,EACE,MAAM,CAAC,CAAE,SAAAD,EAAU,MAAAC,KAAY,CAChCS,EAAS,KAAK,CACZ,MAAO,IACP,QAAS,oBAAoBV,QAAeC,MAC5C,MAAO,QACP,MAAO,SACf,CAAO,CACP,CAAK,CACL,CACEN,EAAK,QACLC,EAAc,CAAA,CAChB,CAEAD,EAAK,iBAAiB,QAASE,CAAW,EAC1CF,EAAK,iBAAiB,SAAUU,CAAY"}